<!DOCTYPE html>
<html>
<head>
    <link href="/css/css.css" rel="stylesheet" type="text/css">
    <script src="/js/super.js"></script>
    <script src="/js/game.js"></script>
    <!-- // <script src="/js/gameScreen.js"></script> -->
    <script src="/js/invader.js"></script>
    <script src="/js/launcher.js"></script>
    <script src="/js/fleet.js"></script>
    <script src="/js/missile.js"></script>
    <script src="/js/bunker.js"></script>
    <script src="/js/bunkerBlock.js"></script>



</head>
<body>

    <div id="gameScreen">
        <!-- Start Screen -->
        <div id="startScreen" class="screenType">

            <button id="play">Play</button>
            <div>
                <h1>Lucky Lot Invaders</h1>

                <p>
                    Controls: <br>
                    Left: 'a'<br>
                    Right: 'd' <br>
                    Fire: 'space'
                </p>

            </div>

        </div>

        <!-- Play Screen -->
        <div id="playScreen" class="screenType">

            <h1 id="playScreenH1">Paused</h1>
            <button id="pause">Pause</button>
            <button id="resume">Resume</button>

        </div>

        <!-- End Screen -->
        <div id="endScreen" class="screenType">

            <h1>Game Over</h1>
            <h2>Congratulations!</h2>
            <h2>You Lose</h2>
            <button id="replay">Replay</button>

        </div>


    </div>


    <script>
    var game = null;
    var windowWidth;
    var windowHeight;


    window.onload = function(){
        //Game Object
        game = new Game();

        windowWidth = window.innerWidth - 20;
        windowHeight = window.innerHeight - 20;


        //Game Screens
        var startScreen = document.getElementById("startScreen");

        var playScreen = document.getElementById("playScreen")
        playScreen.style.display = 'none';

        var pauseText = document.getElementById("playScreenH1");
        pauseText.style.display = 'none';

        var endScreen = document.getElementById("endScreen")
        endScreen.style.display = 'none';

        //Game buttons
        var playButton = document.getElementById("play");
        var pauseButton = document.getElementById("pause");
        var resumeButton = document.getElementById("resume");
        resumeButton.style.visibility = 'hidden'; //ResumeButton starts hidden
        var replayButton = document.getElementById("replay");

        //Play Button
        playButton.onclick = function(){
            game.initialise(windowWidth, windowHeight); //initialise needs to be passed the widthand height of the screen
            game.play(); //everything happens in here!
            startScreen.style.display = 'none';
            playScreen.style.display = 'block';
            document.onkeydown = function(e){ game.onkeydown(e);};

        }

        //Pause Button
        pauseButton.onclick = function(){
            pauseButton.style.visibility = 'hidden';
            resumeButton.style.visibility = 'visible';
            pauseText.style.visibility = 'visible';
            game.pause();
        }

        //Resume Button
        resumeButton.onclick = function(){
            pauseButton.style.visibility = 'visible';
            resumeButton.style.visibility = 'hidden';
            pauseText.style.visibility = 'hidden';
            game.play();
        }

        //Replay Button
        replayButton.onclick = function(){
            game.initialise();
            game.play();
            endScreen.style.display = 'none';
            playScreen.style.display = 'block';
            document.onkeydown = function(e){ game.onkeydown(e);};

        }

    };



    window.onresize = function(){
    //Set the width and height of the game screen
        windowWidth = window.innerWidth - 20;
        windowHeight = window.innerHeight - 20;

        var gameScreen = document.getElementById("gameScreen");
        gameScreen.style.width = windowWidth + "px";
        gameScreen.style.height = windowHeight + "px";

    };

    var handler = window.onresize;
    handler();




    </script>

</body>
</html>