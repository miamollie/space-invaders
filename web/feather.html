<html>
<head>
	<title>feather</title>
	<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
	<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>


	<style type="text/css">
	.container{
		background-color: #333;
		color: #fff;
	}



	svg{
		position: relative;
		top: 200px;
		left: 25%;
		height: 40%;
	}

	</style>

</head>

<body>

	<div class="container stuff"> Scroll Down ....</div>

	<div class="stuff">
		<svg id="svg2" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 385.32 432.36" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/">
			<defs id="defs4">
				<filter id="filter3840" color-interpolation-filters="sRGB">
					<feGaussianBlur id="feGaussianBlur3842" stdDeviation="1.2011009"/>
				</filter>
			</defs>
			<metadata id="metadata7">
				<rdf:RDF>
					<cc:Work rdf:about="">
						<dc:format>image/svg+xml</dc:format>
						<dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
						<dc:title/>
					</cc:Work>
				</rdf:RDF>
			</metadata>
			<g id="layer2" transform="matrix(1.4206099,0,0,1.4206099,-1479.0401,-739.70667)">
				<path id="path3806" stroke-linejoin="miter" d="m1050.8,679.63c-20.692-56.654-12.436-130.7,13.412-182.4,26.015-52.03,48.644-5.3646,48.282-5.3646-12.161,0,5.2906-23.993,10.729-34.87,34.26-68.521,72.714-124.79,125.32-126.49,22.279-0.71987,78.872-71.611,108.04-82.56,11.102-4.1669,39.402-23.524,53.253,28.2,2.706,10.105,0.6011,143.72-37.159,175.48-11.632,9.7854-23.082,8.7104-35.39,21.018-2.1993,2.1994,21.486,10.185,21.979,11.169,3.9627,7.9254-23.28,46.402-26.335,53.559-12.272,28.752-49.7,21.208-59.35,26.362-10.728,21.455,6.4998,13.987,12.584,20.072,13.908,13.908-73.382,102.33-81.686,101.36-16.626-1.9368-46.949-4.9801-57.115,5.1867-36.04,36.04-54.813,89.683-93.881,128.75-20.614,20.614-29.506,48.368-29.506,48.282,0-86.269,124.29-265.79,169.84-356.9,4.3941-8.7882,91.304-96.587,135.89-147.8" stroke-opacity="0.94117647" transform="matrix(0.68245014,0,0,0.47862331,345.99616,407.95315)" filter="url(#filter3840)" stroke="#05371f" stroke-linecap="butt" stroke-miterlimit="4" stroke-dasharray="none" stroke-width="5" fill="none"/>
			</g>
		</svg>
	</div>

	<div class="container stuff"></div>

	<script type="text/javascript">

	$(window).resize(function(){
		var height = $(window).innerHeight();
		$(".stuff").css('min-height', height);

	});

	$(window).trigger("resize");

	$(document).ready(function(){
	//get the length of the SVG , not entirely necessary but makes things more precise
		var path = document.querySelector('path');
		var length= path.getTotalLength(); //2105.057...

		// Clear any previous transition
		path.style.transition = path.style.WebkitTransition ='none';
		
		// Set up the starting positions
		path.style.strokeDasharray = length;
		path.style.strokeDashoffset = 0;

		// Trigger a layout so styles are calculated & the browser, picks up the starting position before animating
		// path.getBoundingClientRect();

		// Define a transition (if u just want it to appear)
		// path.style.transition = path.style.WebkitTransition = 'stroke-dashoffset 6s ease-in';

		// Animate on scroll event
		console.log("SVG offset from top: " +  $("svg").offset().top);
		console.log("");

		$(window).scroll(function () {

			//store the dashoffset value, initilly the length, amount by which the stroke is hidden/visible
			var dashOffset = length;

			//keeping track of the top of the viewport, the window height, the top of the SVG and the middle of the SVG

			var scroll = $(window).scrollTop();
			var windowheight = $(window).height();
			var svgTop = $("svg").offset().top;
			var svgMidPoint = $("svg").height()/2;

			var start = scroll + windowheight;

			//calculate what percentage of the line should be drawn based on where on the page the scrollTop is.
			// we want it to start drawing when the svg just starts to appear at the bottom of the screen, and it should be 100% drawn when it is right in the centre of the viewport
		    var offsetPercentage =  (( (scroll) + (windowheight/2)  ) / ( svgTop )) -1;		    
		    dashOffset -= (length * offsetPercentage);    

		    path.style.strokeDashoffset = dashOffset; //start drawing!

		});
		
	});



	</script>
</body>
</html>